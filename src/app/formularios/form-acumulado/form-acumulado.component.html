<div class="container-fluid mt--9" id="form-acumulado">
  <div class="row">
    <div class="col-xl-2"></div>
    <div class="col-xl-8 mb-5 mb-xl-0">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title" *ngIf="isUpdating">
            Editar información de reporte
          </h3>
          <h3 class="card-title" *ngIf="!isUpdating">Crear nuevo reporte</h3>
        </div>
        <div class="card-body">
          <form #formAcumulado="ngForm" ngNativeValidate>
            <div class="form-group" *ngIf="isUpdating">
              <label for="estacionadmin">Estación*</label><br />
              <input
                type="text"
                class="form-control"
                name="estacionadmin"
                id="estacionadmin"
                value="{{
                  reporte.Observador.Estacion.nombre +
                    ' (' +
                    reporte.Observador.Estacion.codigo +
                    ')'
                }}"
                required
                disabled
              />
            </div>
            <div class="form-group" *ngIf="!isUpdating">
              <label for="estacion">Estación*</label><br />
              <select
                name="estacion"
                id="estacion"
                class="form-control"
                [(ngModel)]="reporte.estacion"
                required
              >
                <option
                  *ngFor="let estacion of estaciones"
                  [value]="estacion.id"
                >
                  {{ estacion.nombre }} ({{ estacion.codigo }})
                </option>
              </select>
            </div>
            <div class="form-group" *ngIf="isUpdating">
              <label for="fechaadmin">Fecha Inicio*</label><br />
              <input
                type="text"
                class="form-control"
                name="fechaadmin"
                id="fechaadmin"
                value="{{ reporte.fechaInicio }}"
                required
                disabled
              />
            </div>
            <div class="form-group" *ngIf="!isUpdating">
              <label for="fechaInicio">Fecha Inicio*</label><br />
              <input
                type="date"
                max="{{ maxDate }}"
                class="form-control"
                name="fechaInicio"
                id="fechaInicio"
                [(ngModel)]="reporte.fechaInicio"
                required
              />
            </div>
            <div class="form-group" *ngIf="isUpdating">
              <label for="fechafinaladmin">Fecha Final*</label><br />
              <input
                type="text"
                class="form-control"
                name="fechafinaladmin"
                id="fechafinaladmin"
                value="{{ date(reporte.fechaFin) }}"
                required
                disabled
              />
            </div>
            <div class="form-group" *ngIf="!isUpdating">
              <label for="fechaFin">Fecha Final*</label><br />
              <input
                type="datetime-local"
                class="form-control"
                max="{{ maxDateTime }}"
                name="fechaFin"
                id="fechaFin"
                [(ngModel)]="reporte.fechaFin"
                required
              />
            </div>
            <div class="form-group">
              <label for="valor">Valor*</label><br />
              <input
                type="number"
                step="any"
                max="500"
                min="0"
                class="form-control"
                name="valor"
                id="valor"
                [(ngModel)]="reporte.valor"
                (focusout)="setDecimals()"
                required
                *ngIf="reporte.valor != -888 && reporte.valor != -777"
              />
              <div class="form-check" *ngIf="reporte.valor != -777">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="traza"
                  id="traza"
                  [checked]="reporte.valor == -888"
                  (change)="traza()"
                />
                <label class="form-check-label" for="traza">Traza</label>
              </div>
              <div class="form-check" *ngIf="reporte.valor != -888">
                <input
                  type="checkbox"
                  class="form-check-input"
                  name="desborde"
                  id="desborde"
                  [checked]="reporte.valor == -777"
                  (change)="desborde()"
                />
                <label class="form-check-label" for="desborde">Desborde</label>
              </div>
            </div>
            <div class="form-group">
              <label for="comentario">Comentario*</label><br />
              <textarea
                name="comentario"
                id="comentario"
                class="form-control"
                [(ngModel)]="reporte.comentario"
                maxlength="300"
              ></textarea>
            </div>
            <div>
              <button
                type="button"
                class="btn btn-secondary float-left"
                (click)="cancelar(formAcumulado)"
              >
                Cancelar
              </button>
              <button
                class="btn btn-default float-right"
                (click)="saveReporte(formAcumulado)"
              >
                Guardar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
